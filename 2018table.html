<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>2018å¹´VirMaché—ªè´­å†å²æ•°æ®</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href="static_pack/Bootstrap-4-4.1.1/css/bootstrap.min.css" rel="stylesheet" />
    <link href="static_pack/DataTables-1.10.20/css/dataTables.bootstrap4.min.css" rel="stylesheet" />
    <script src="static_pack/jQuery-3.3.1/jquery-3.3.1.min.js"></script>
    <script src="static_pack/DataTables-1.10.20/js/jquery.dataTables.min.js"></script>
    <script src="static_pack/DataTables-1.10.20/js/dataTables.bootstrap4.min.js"></script>

    <style>
        body {
            background: #2c3e50;
            background: -webkit-linear-gradient(to left, #2c3e50, #3498db);
            background: linear-gradient(to left, #2c3e50, #3498db);
        }

        .bg-dark {
            position: relative;
            min-height: 70px;
            z-index: 20;
            background-color: #2c3e50 !important;
            box-shadow: 0 5px 0 rgba(0,0,0,.2);
        }

        .footer {
            color: white;
            background: #222 !important;
            border: 1px solid rgba(34, 34, 34, 0.86) !important;
            padding: 15px 0px;
        }
        table th { 
		    text-align: center;
		    vertical-align: middle !important;
		}
	</style>
</head>
<body>
    <nav class="navbar navbar-expand-sm bg-dark navbar-dark">
        <div class="nav navbar-header">
            <a class="navbar-brand" href="/">
                <span itemprop="name">VirMach</span>
            </a>
        </div>
        <ul class="navbar-nav">
            <li class="nav-item">
                <a class="nav-link" href="/index.html">å®æ—¶ç›‘æ§</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="/2019.html">2019å¹´æ•°æ®</a>
            </li>
            <li class="nav-item active">
                <a class="nav-link" href="/2018.html">2018å¹´æ•°æ®</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#">è‡ªåŠ¨ä¸‹å•</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#">ç•™è¨€æ¿</a>
            </li>
            <li class="nav-item">
                <a class="nav-link disabled" href="#">å¸®åŠ©</a>
            </li>
        </ul>
    </nav>

    <div class="card">
        <div class="card-body">
            <div class="col-sm-12 text-center">
            	<h1>2018å¹´VirMaché—ªè´­å†å²æ•°æ®</h1>
            </div>
            <div class="col-sm-12">
                <table id="example" class="table table-striped table-bordered" style="width:100%"></table>
            </div>
            <div class="col-sm-8">

            </div>
        </div>
    </div>


    <nav class="text-center footer" role="navigation">
        <p> 
            <img src="http://blog.0ddt.com/content/templates/red_zui/images/txy.png" width="80"> 
            <img src="http://blog.0ddt.com/content/templates/red_zui/images/360.png" width="80"> 
            <img src="http://blog.0ddt.com/content/templates/red_zui/images/aly.png" width="80"> 
            <img src="http://blog.0ddt.com/content/templates/red_zui/images/ypy.png" width="80"> 
            <img src="http://blog.0ddt.com/content/templates/red_zui/images/wxpay.png" width="80"> 
            <img src="http://blog.0ddt.com/content/templates/red_zui/images/zfb.png" width="80"> 
        </p>
            <hr style="background:#ffffff;margin:10px 50px;" />
            <p>Copyright Â© 2018-2020 æ®µå½¤ç½‘ç»œ. All Rights Reserved</p>
    </nav>


    <script>

        $(document).ready(function () {
            $('#example').DataTable({
                //data: data,//ä¸ºajaxçš„å€¼,æ²¡æœ‰ç›´æ¥ç”¨æ’ä»¶è‡ªå¸¦çš„è¯·æ±‚æ•°æ®æ–¹å¼ï¼Œä¸ªäººdataçš„æ–¹å¼å¥½æ§åˆ¶ä¸€äº›
                "ajax": '/api.php?y=2018', 
                createdRow: function( row, data, dataIndex ) {
	                $(row).children('td').attr('style', 'text-align: center;vertical-align: middle;');
	            },
                "columns": [
                    {
                        "data": "cpu",
                        "title": "CPU",
                        "searchable": true,
                        "render": function (data, type, full, meta) {
                            var data = data || '0'
                            return data + ' æ ¸å¿ƒ';
                        }
                    },
                    {
                        "data": "ram",
                        "title": "å†…å­˜",
                        "searchable": true,
                        "render": function (data, type, full, meta) {
                            var data = data || '0'
                            return data + ' MB';
                        }
                    },
                    {
                        "data": "hdd",
                        "title": "ç¡¬ç›˜",
                        "searchable": true,
                        "render": function (data, type, full, meta) {
                            var data = data || '0'
                            return data + ' G';
                        }
                    },
                    {
                        "data": "bw",
                        "title": "æœˆæµé‡",
                        "searchable": true,
                        "render": function (data, type, full, meta) {
                            var data = data || '0'
                            return data + ' GB';
                        }
                    },
                    {
                        "data": "ips",
                        "title": "IP",
                        "searchable": true,
                        "render": function (data, type, full, meta) {
                            var data = data || '0'
                            return data + ' ä¸ª';
                        }
                    },
                    {
                        "data": "windows",
                        "title": "Windows",
                        "searchable": true,
                        "render": function (data, type, full, meta) {
                            var data = data || ' '
                            if("TRUE" === data){
                            	data = "âœ…";
                            }
                            return data;
                        }
                    },
                    {
                        "data": "location",
                        "title": "åœ°åŒº",
                        "searchable": true,
                        "render": function (data, type, full, meta) {
                            var data = Fg(data) || ''
                            return data;
                        }
                    },
                    {
                        "data": "message",
                        "title": "æ¶ˆæ¯",
                        "searchable": true,
                        "render": function (data, type, full, meta) {
                            var data = data || ''
                            return data;
                        }
                    },
                    {
                        "data": "price",
                        "title": "ä»·æ ¼",
                        "searchable": true,
                        "render": function (data, type, full, meta) {
                            var data = data|| '$0'
                            return data.replace("\/yr", "");
                        }
                    },
                    {
                        "data": "datetime",
                        "title": "æ—¶é—´",
                        "searchable": true,
                        "render": function (data, type, full, meta) {
                            var data = data || ''
                            return data;
                        }
                    }
                ],
                columnDefs: [{
                        "title": "æ¯”ä»·",
	                	"targets": 10,//è‡ªå®šä¹‰åˆ—çš„åºå·ï¼Œä»0å¼€å§‹
	                	"data": "price", //éœ€è¦å¼•ç”¨çš„æ•°æ®åˆ—ï¼Œä¸€èˆ¬æ˜¯ä¸»é”®
	                	"render": function(data, type, full){
	                		var ram = 0.003828125, cpu = 5, hdd = 0.15, bw = 0.007, ip = 5;
	                		var r = (full.cpu * cpu) + (full.ram * ram) + (full.hdd * hdd) + (full.bw * bw) + (full.ips * ip);
	                        var temp = full.price || '$0';
	                        temp = temp.replace("\/yr", "");
	                        var t = ln(full);
	                        t = t.annotation || "<span style='color:#ddd!important'>ä¸åˆé€‚ï¼</span>";
	                        return t;
	                	}
                }],
                "stateSave": true,
                "order": [ 9, 'desc' ],  //è¿™è¡Œäº›ä¸è¡Œæ•ˆæœéƒ½ä¸€æ ·
                "pagingType": "simple_numbers",  //åˆ†é¡µæ ·å¼ï¼šsimple,simple_numbers,full,full_numbers
                "bProcessing": true, //DataTablesè½½å…¥æ•°æ®æ—¶ï¼Œæ˜¯å¦æ˜¾ç¤ºâ€˜è¿›åº¦â€™æç¤º
                "bAutoWidth": true, //æ˜¯å¦è‡ªé€‚åº”å®½åº¦ //"bScrollInfinite" : false, //æ˜¯å¦å¯åŠ¨åˆå§‹åŒ–æ»šåŠ¨æ¡
                "bScrollCollapse": true, //æ˜¯å¦å¼€å¯DataTablesçš„é«˜åº¦è‡ªé€‚åº”ï¼Œå½“æ•°æ®æ¡æ•°ä¸å¤Ÿåˆ†é¡µæ•°æ®æ¡æ•°çš„æ—¶å€™ï¼Œæ’ä»¶é«˜åº¦æ˜¯å¦éšæ•°æ®æ¡æ•°è€Œæ”¹å˜
                oLanguage: {//å¤šè¯­è¨€é…ç½®
                    "sProcessing": "æ­£åœ¨åŠ è½½ä¸­......",
                    "sLengthMenu": "æ¯é¡µæ˜¾ç¤º _MENU_ æ¡è®°å½•",
                    "sZeroRecords": "å¯¹ä¸èµ·ï¼ŒæŸ¥è¯¢ä¸åˆ°ç›¸å…³æ•°æ®ï¼",
                    "sEmptyTable": "è¡¨ä¸­æ— æ•°æ®å­˜åœ¨ï¼",
                    "sInfo": "å½“å‰æ˜¾ç¤º _START_ åˆ° _END_ æ¡ï¼Œå…± _TOTAL_ æ¡è®°å½•",
                    "sInfoFiltered": "æ•°æ®è¡¨ä¸­å…±ä¸º _MAX_ æ¡è®°å½•",
                    "sSearchPlaceholder": "ğŸ” æŸ¥æ‰¾",//æœç´¢æ¡†å†…å ä½ç¬¦
                    "sSearch": "",//æœç´¢æ¡†å‰çš„å­—ä½“
                    "oPaginate": {
                        "sFirst": "é¦–é¡µ",
                        "sPrevious": "ä¸Šä¸€é¡µ",
                        "sNext": "ä¸‹ä¸€é¡µ",
                        "sLast": "æœ«é¡µ"
                    }
                },
                language: {
                    "sProcessing": "æ­£åœ¨è·å–æ•°æ®ï¼Œè¯·ç¨å...",
                    "sLengthMenu": "æ˜¾ç¤º _MENU_ é¡¹ç»“æœ",
                    "sZeroRecords": "æ²¡æœ‰åŒ¹é…ç»“æœ",
                    "sInfo": "æ˜¾ç¤ºç¬¬ _START_ è‡³ _END_ é¡¹ç»“æœï¼Œå…± _TOTAL_ é¡¹",
                    "sInfoEmpty": "æ˜¾ç¤ºç¬¬ 0 è‡³ 0 é¡¹ç»“æœï¼Œå…± 0 é¡¹",
                    "sInfoFiltered": "(ç”± _MAX_ é¡¹ç»“æœè¿‡æ»¤)",
                    "sInfoPostFix": "",
                    "sSearch": "æœç´¢:",
                    "sUrl": "",
                    "sEmptyTable": "è¡¨ä¸­æ•°æ®ä¸ºç©º",
                    "sLoadingRecords": "è½½å…¥ä¸­...",
                    "sInfoThousands": ",",
                    "oPaginate": {
                        "sFirst": "é¦–é¡µ",
                        "sPrevious": "ä¸Šé¡µ",
                        "sNext": "ä¸‹é¡µ",
                        "sLast": "æœ«é¡µ"
                    },
                    "oAria": {
                        "sSortAscending": ": ä»¥å‡åºæ’åˆ—æ­¤åˆ—",
                        "sSortDescending": ": ä»¥é™åºæ’åˆ—æ­¤åˆ—"
                    }
                }
            });
        });
        
		function ln(e) {
		    
	        if (!(e && e.virt && e.cpu && e.ram && e.hdd && e.bw && e.ips && e.price && e.location)){
	            return {};
	        }
	        var r = Number(e.price.match(/\d[\d.]*/)[0]);
	        if (!r)
	            return {};
	        var t = (5 * e.cpu + Number(e.ram) / 1024 * 3 + e.hdd * (5 - Math.log(e.hdd) / 2 / Math.log(4.5)) / 10 + 4 * (e.ips - 1)) / (e.virt.match(/KVM/i) ? 1 : 2);
	        
	        "TRUE" === e.windows && 
	        (t += Math.min(.15 * t, 6)),t *= 1.1,e.ram < 256 && 
	        (t *= .8),e.ram < 512 && 
	        (t *= .85),e.ram < 1024 && 
	        (t *= .9),e.hdd < 5 && 
	        (t *= .25),e.bw < 200 && 
	        (t *= .25);
	        
	        
	        var a = 100 - Math.floor(r / t * 100), l = "";
	        var l='';
	        if(a >= 65){
	            l="<span style='color:#e12248!important'>æƒŠäººæŠ˜æ‰£ï¼Œå¿«æŠ¢ï¼</span>";
	        }else if(a >= 45){
	            l= "<span style='color:#e15c22!important'>ç»å¯¹è¶…å€¼ï¼</span>";
	        }else if(a >= 35){
	            l= "<span style='color:#e1bc22!important'>è¶…å€¼ï¼</span>";
	        }else if(a >= 20){
	            l= "<span style='color:#22a8e1!important'>è¿˜è¡Œã€‚</span>";
	        }else if(r <= 7){
	            l= "<span style='color:#64a016!important'>ä¾¿å®œè´§ã€‚</span>";
	        }else if(e.hdd >= 50){
	            l= "<span style='color:#64a016!important'>å¤§ç¡¬ç›˜ã€‚</span>";
	        }else if(e.bw >= 2048){
	            l= "<span style='color:#64a016!important'>å¤§æµé‡ã€‚</span>";
	        }else {
	            l= "æ— ";
	        }
	        
	        
		  //  console.log(JSON.stringify(e)+' - '+ a)
	        
	        return !(l = a >= 65 ? "<span style='color:#e12248!important'>æƒŠäººæŠ˜æ‰£ï¼Œå¿«æŠ¢ï¼</span>" : a >= 45 ? "<span style='color:#e15c22!important'>ç»å¯¹è¶…å€¼ï¼</span>" : a >= 35 ? "<span style='color:#e1bc22!important'>è¶…å€¼ï¼</span>" : a >= 20 ? "<span style='color:#22a8e1!important'>è¿˜è¡Œã€‚</span>" : "") && r <= 8.5 && (l = "<span style='color:#64a016!important'>ä¾¿å®œè´§ã€‚</span>"),
	        e.bw < 200 && (l = ""),
	        {
	            price: r,
	            percentOff: a,
	            value: t,
	            annotation: l
	        }
	    }
		
		function jc(e) {
	        return e && e.virt && e.cpu && e.ram && e.hdd && e.bw && e.ips && e.price && e.location
	    }
	    
	    function Fg(e) {
	        return e.replace(/Flashdeals/gi, "é—ªè´­é¡µé¢").replace(/sold out/g, "å·²å”®ç½„").replace(/SWITCHING SOON/gi, "å³å°†åˆ·æ–°").replace(/New offer in 15 seconds/gi, "15 ç§’ååˆ·æ–°").replace(/US English Female/gi, "Chinese Female").replace(/No Brainer!/gi, "æƒŠäººæŠ˜æ‰£ï¼Œå¿«æŠ¢ï¼").replace(/Great Deal!/gi, "ç»å¯¹è¶…å€¼ï¼").replace(/Good Deal\./gi, "è¶…å€¼ï¼").replace(/Not bad\./gi, "è¿˜è¡Œã€‚").replace(/Cheap deal\./gi, "ä¾¿å®œè´§ï¼").replace(/Monitor/gi, "ç›‘æ§").replace(/\/yr/gi, "/å¹´").replace(/\/mo/gi, "/æœˆ").replace(/Auto\sUpdate/gi, "è‡ªåŠ¨åˆ·æ–°").replace(/Sold\sOut/gi, "å·²å”®ç½„").replace(/Limited Offer/gi, "é™æ—¶ä¼˜æƒ ").replace(/Available/gi, "å¯ç”¨").replace(/DEDICATED\sRAM/gi, "ç‹¬ç«‹å†…å­˜").replace(/RAM/gi, "å†…å­˜").replace(/DEDICATED IPv4/gi, "ç‹¬ç«‹ IP").replace(/FAIR\sSHARE/gi, "å…±äº«").replace(/vCORE/gi, "æ ¸å¿ƒ").replace(/\sSSD \(RAID 10\)/gi, " å›ºæ€ç¡¬ç›˜ (RAID 10)").replace(/\sSSD/gi, " ç¡¬ç›˜").replace(/\sBANDWIDTH/gi, " æµé‡").replace(/\sLOCATION/gi, " æ•°æ®ä¸­å¿ƒ").replace(/BUFFALO(, NY)?/gi, "æ°´ç‰›åŸ").replace(/LOS ANGELES, CA/gi, "æ´›æ‰çŸ¶").replace(/DALLAS, TX/gi, "è¾¾æ‹‰æ–¯").replace(/FRANKFURT, DE/gi, "å¾·å›½").replace(/SEATTLE, WA/gi, "è¥¿é›…å›¾").replace(/AMSTERDAM, NL/gi, "é˜¿å§†æ–¯ç‰¹ä¸¹").replace(/ATLANTA, GA/gi, "äºšç‰¹å…°å¤§").replace(/PISCATAWAY, NJ/gi, "æ–°æ³½è¥¿").replace(/CHICAGO, IL/gi, "èŠåŠ å“¥").replace(/SAN JOSE, CA/gi, "åœ£ä½•å¡").replace(/PHOENIX, AZ/gi, "å‡¤å‡°åŸ").replace(/ORDER NOW/gi, "ç«‹å³æŠ¢è´­").replace(/Test IP/gi, "æµ‹è¯• IP").replace(/Test file/gi, "æµ‹è¯•æ–‡ä»¶").replace(/Buy Now/gi, "ç«‹å³æŠ¢è´­").replace(/Via /gi, "æ¥æºï¼š")
	    }
    </script>
</body>
</html>
